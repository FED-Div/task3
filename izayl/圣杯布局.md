#### 目的

在div + css布局中, 一种很常见的布局就是三列布局: 左右定宽，中间宽度自适应。左侧一般是导航，右侧可能是广告之类的消息，中间是主体内容。圣杯布局出现的目的就是为这种布局提供一个方案。

#### 原因

为什么使用圣杯布局来实现三列布局呢？ 

首先先看下我在没有接触这类布局前， 自己实现的三列布局。

`HTML`

```html
<div id="left">left</div>
<div id="right">right</div>
<div id="center">center</div>
```

`CSS`

```css
body{
  padding:0;
  margin:0;
  min-width: 800px;
}
#left{
  float: left;
  width: 200px;
  background-color: #ccc;
}
#right{
  float: right;
  width: 180px;
  background-color: #ccc;
}
#center{
  margin-left: 210px;
  margin-right: 190px;
  background-color: blue;
}
```

[在线demo](http://codepen.io/izayl/pen/remzLr)

这样确实可以实现三列布局的效果，但是有一个缺点是 `#center`一定要在`#left`和`#right`的后面，而对于网页内容来说，首先加载的应该是#center这个内容区块。接下来的圣杯布局就可以实现这个功能，将#center的内容优先加载。

#### 圣杯布局

代码如下 

> LC ： left column
>
> RC ：right column

```html
<!--HTML-->
<div id="container">
  <div id="center" class="column">
    center
  </div>
  <div id="left" class="column">
    left
  </div>
  <div id="right" class="column">
    right
  </div>
</div>
```

```css
/*css*/
body {
  min-width: 550px;      /* 2x LC width + RC width */
}
#container {
  padding-left: 200px;   /* LC width */
  padding-right: 150px;  /* RC width */
}
#container .column {
  position: relative;
  float: left;
}
#center {
  width: 100%;
  background-color: blue;
}
#left { 
  background-color: pink;
  width: 200px;          /* LC width */
  right: 200px;          /* LC width */
  margin-left: -100%;
}
#right {
  background-color: green;
  width: 150px;          /* RC width */
  margin-right: -150px;  /* RC width */
}
#footer {
  clear: both;
}
/*** IE6 Fix ***/
* html #left {
  left: 150px;           /* RC width */
}
```

[在线demo](http://codepen.io/izayl/pen/ONmgaV)

#### 原理

在三列中添加了一个父级容器， 容器设置左右padding，分别等于左右两列的宽度。三列都设置为左浮动，使用负边距和绝对定位将左右两列放置于左右两侧。中间这列设置宽度100%，达到自适应宽度。

具体流程：

1. 左中右三列 float:left, center 放在最前面以实现优先加载的效果
2. 设置左右两列的定宽，设置中间列 width:100%，设置容器的左右padding分别为左右两列的定宽。
3. 将左列移至左侧：
   1. 将左列移至容器最左侧 margin: -100%， 但是此时左列遮挡住了中间列，即左列与中间列的左边框重叠， 并没有达到目标位置
   2. 使用相对定位： position: relative; right: 200px; (200px为左列定宽) 将其移至容器的左padding处，此时位置正确。
4. 将右列移至右侧：
   1. 此时(左列位置正确下)右列由于浮动，在中间列的下面，为了将其移至与中间列相同的上边距，再次使用负边距到达，同理此时的右列的右边框与中间列重叠 margin: -180px (180px为右列的宽)
   2. 再次使用绝对定位来将右列移出中间列范围，达到目标位置

#### 优点与缺点

优点：

1. 内容部分(中间列)优先加载，且实现响应宽
2. 结构上仅仅添加了一个父级容器
3. 任何一列都可以作为最高列

确定：

1. 使用了绝对定位与负边距，过于复杂